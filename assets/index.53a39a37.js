var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;import{R as s,E as r,c,u as o,a as E,b as m,d as i,e as u,f as _,p as d,g as p,h as y,t as L,s as h,i as S,j as O,k as N,P as f,l as b}from"./vendor.0e085eb4.js";const v=e=>s.createElement("div",null,"HOME");function M(e,t){return e.sort(((e,a)=>{const n=String(e[t]).toUpperCase(),l=String(a[t]).toUpperCase();return n<l?-1:n>l?1:0}))}var C="_a-radio-group_1bzy9_1";const g=e=>{const{defaultValue:t,options:a,className:n,onChange:l}=e,[o,E]=r.exports.useState(t),m=c(C,n),i=`_${Math.random().toString(36).substr(2,9)}`;return r.exports.useEffect((()=>{E(t)}),[t]),s.createElement("div",{className:m},a.map(((e,t)=>{const a=i+t,n=e.value===o;return s.createElement("div",{key:a},s.createElement("input",{type:"radio",id:a,name:i,defaultChecked:n,value:e.value,onChange:()=>{E(e.value),l(e.value)}}),s.createElement("label",{htmlFor:a},e.label))})))};var P,Y,F="_m-alphabet-letter_44cls_1",T="_alphabet-letter__collapse_44cls_11",I="_alphabet-letter__icon_44cls_19",w="_alphabet-letter__icon--active_44cls_24",k="_alphabet-letter__ctx_44cls_27";(Y=P||(P={})).ON="on",Y.OFF="off";const A=e=>{const[t,a]=r.exports.useState(!1),n=o((t=>t.employees.selected.some((t=>t.id===e.item.id))?P.ON:P.OFF)),{onChange:l,item:c}=e,{lastName:E,firstName:m}=c,i=e.item?`${E} ${m}`:"-",u=t?"➖":"➕",_=[{label:"active",value:P.ON},{label:"not active",value:P.OFF}];return s.createElement("dd",null,s.createElement("div",{className:T,onClick:function(){a(!t)}},s.createElement("span",{className:I},u),s.createElement("span",null,i)),t&&s.createElement("div",{className:k},s.createElement(g,{defaultValue:n,options:_,onChange:function(e){l(c,"on"===e)}})))},D=e=>{const{data:t=[],className:a,letter:n,onChange:l}=e,r=Boolean(t.length),E=o((e=>e.employees.selected.some((e=>t.some((t=>t.id===e.id)))))),m=c(F,a),i=c({[w]:E});return s.createElement("dl",{className:m},s.createElement("dt",{className:i},n),r?t.map((e=>s.createElement(A,{key:e.id,item:e,onChange:l}))):s.createElement("dd",null,"-"))};var R,U;(U=R||(R={})).FILL_EMPLOYEES="FILL_EMPLOYEES",U.FILL_SELECT_EMPLOYEES="FILL_SELECT_EMPLOYEES",U.SELECT_EMPLOYEE="SELECT_EMPLOYEE",U.UNSELECT_EMPLOYEE="UNSELECT_EMPLOYEE",U.FETCH_EMPLOYEES_ASYNC="FETCH_EMPLOYEES_ASYNC";const j=e=>({type:R.FILL_EMPLOYEES,payload:e}),H=e=>({type:R.SELECT_EMPLOYEE,payload:e}),J=e=>({type:R.UNSELECT_EMPLOYEE,payload:e}),q=()=>({type:R.FILL_SELECT_EMPLOYEES}),B=()=>({type:R.FETCH_EMPLOYEES_ASYNC});var x,$,V,X;($=x||(x={})).A="A",$.B="B",$.C="C",$.D="D",$.E="E",$.F="F",$.G="G",$.H="H",$.I="I",$.J="J",$.K="K",$.L="L",$.M="M",$.N="N",$.O="O",$.P="P",$.Q="Q",$.R="R",$.S="S",$.T="T",$.U="U",$.V="V",$.W="W",$.X="X",$.Y="Y",$.Z="Z",(X=V||(V={}))[X.January=0]="January",X[X.February=1]="February",X[X.March=2]="March",X[X.April=3]="April",X[X.May=4]="May",X[X.June=5]="June",X[X.July=6]="July",X[X.August=7]="August",X[X.September=8]="September",X[X.October=9]="October",X[X.November=10]="November",X[X.December=11]="December";var G="_o-alphabet_1x5co_1";const K=e=>{const{className:t,letters:a}=e,n=E(),l=o((e=>function(e){const t="lastName";return function(e,t){return e.reduce(((e,a)=>{const n=String(a[t]).charAt(0).toUpperCase();return e[n]?e[n].push(a):e[n]=[a],e}),{})}(M(e,t),t)}(e.employees.list))),m=a||Object.values(x),i=c(G,t);function u(e,t){n(t?H(e.id):J(e.id))}return r.exports.useEffect((()=>{n(B())}),[]),s.createElement("div",{className:i},m.map((e=>s.createElement(D,{key:e,letter:e,data:l[e],onChange:u}))))};var Q="_o-calendar_1pr7w_1",W="_calendar__item_1pr7w_5";const Z=e=>{const{className:t}=e,a=(new Date).getMonth(),n=Array(12).fill(null).map(((e,t)=>{const n=t+a;return n<=11?n:n-12})),l=c(Q,t),r=o((e=>M(e.employees.selected,"lastName").reduce(((e,t)=>{const a=new Date(Date.parse(t.dob)).getMonth();return e[a]?e[a].push(t):e[a]=[t],e}),{}))),E=Boolean(Object.keys(r).length);return s.createElement("div",{className:l},!E&&s.createElement("dl",{className:W},s.createElement("dt",null,s.createElement("b",null,"Employees List is empty"))),E&&n.map((e=>{const t=r[e]||[];return Boolean(t.length)&&s.createElement("dl",{key:V[e],className:W},s.createElement("dt",null,s.createElement("b",null,V[e])),t.map((e=>s.createElement("dd",{key:e.id},function(e){const t=new Date(Date.parse(e.dob)),a=new Intl.DateTimeFormat("en-GB",{dateStyle:"long"}).format(t);return`${e.lastName} ${e.firstName} - ${a}`}(e)))))})))};var z="_p-employees_1bofq_1",ee="_employees__left_1bofq_4",te="_employees__right_1bofq_7",ae="_employees__title_1bofq_10";const ne=e=>{const{className:t}=e,a=c(z,t);return s.createElement("div",{className:a},s.createElement("div",{className:ee},s.createElement("h2",{className:ae},"Employees"),s.createElement(K,null)),s.createElement("div",{className:te},s.createElement("h2",{className:ae},"Employees birthday"),s.createElement(Z,null)))};var le,se;(se=le||(le={})).HOME="/",se.EMPLOYEES="/employees";const re=[{name:"home",title:"Home",url:le.HOME,component:()=>s.createElement(v)},{name:"employees",title:"Employees",url:le.EMPLOYEES,component:()=>s.createElement(ne)}],ce=re.reduce(((e,t)=>(e[t.url]=t.component,e)),{});var oe="_o-menu_e0ek3_1",Ee="_--active_e0ek3_17";const me=()=>{const e=m.usePath();return s.createElement("ul",{className:oe},re.map((t=>s.createElement("li",{key:t.name},s.createElement(m.A,{href:t.url,className:c({[Ee]:e===t.url})},t.title)))))};var ie="_t-main_n3hho_1",ue="_t-main__header_n3hho_6",_e="_t-main__footer_n3hho_10";const de=e=>{const{children:t}=e;return s.createElement(s.Fragment,null,s.createElement("div",{className:ie},s.createElement("div",{className:ue},s.createElement(me,null)),t),s.createElement("div",{className:_e},"Test Yalantis React.js School"))},pe={list:[],selected:[]},ye=i({employees:(e=pe,t)=>{switch(t.type){case R.FILL_EMPLOYEES:return e.list=t.payload,e;case R.SELECT_EMPLOYEE:const a=e.list.find((({id:e})=>e===t.payload)),n=e.selected.find((({id:e})=>e===t.payload));return a&&!n&&(e.selected=[...e.selected,a]),e;case R.UNSELECT_EMPLOYEE:return e.selected=e.selected.filter((({id:e})=>e!=t.payload)),e;case R.FILL_SELECT_EMPLOYEES:const l=localStorage.getItem("selectedEmployees");return l&&l.length&&(e.selected=e.list.filter((e=>l.includes(e.id)))),e;default:return e}}}),Le={baseURL:"https://yalantis-react-school-api.yalantis.com/api/"};class he{constructor(e){this.instance=u.create(e),this.instance.interceptors.response.use(he.onResponse,he.onRejected),this.instance.interceptors.request.use(he.onRequest)}static onRequest(e){return e}static onResponse(e){return e.data}static onRejected(e){return Promise.reject(e)}get(e,t){return this.instance.get(e,{params:t})}post(e,s,r){return this.instance(((e,s)=>{for(var r in s||(s={}))a.call(s,r)&&l(e,r,s[r]);if(t)for(var r of t(s))n.call(s,r)&&l(e,r,s[r]);return e})({method:"post",url:e,data:s},r))}put(e,t){return this.instance({method:"put",url:e,data:t})}delete(e,t){return this.instance({method:"delete",url:e,data:t})}}const Se=new he(Le);function Oe(){return Se.get("task0/users")}function*Ne(e){try{const e=yield _(null,Oe,[]);yield d(j(e)),yield d(q())}catch(t){}}function*fe(){yield L(R.FETCH_EMPLOYEES_ASYNC,Ne)}function*be(){yield p([y(fe)])}const ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Me=h(),Ce=N(ye,(ve||O)(S(...[Me,({getState:e})=>t=>a=>{const n=t(a);if([R.FILL_SELECT_EMPLOYEES,R.SELECT_EMPLOYEE,R.UNSELECT_EMPLOYEE].includes(n.type)){const t=e().employees.selected.map((e=>e.id));window.localStorage.setItem("selectedEmployees",JSON.stringify(t))}return n}])));Me.run((function*(){yield p([y(be)])}));b.render(s.createElement((()=>{const{match:e}={match:m.useRoutes(ce)};return s.createElement(s.StrictMode,null,s.createElement(f,{store:Ce},s.createElement(de,null,e||"NOT FOUND")))})),document.getElementById("root"));
